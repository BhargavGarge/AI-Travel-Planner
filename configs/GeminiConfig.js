const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = "";
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Final Prompt:  Generate Travel Plan for Location : Mumbai, Maharashtra, India, for 3 Days and 2 Night for Couple with a Luxury budget with a Flight details, Flight Price with Booking url, Hotel options list with Hotel Name, Hotel address, Price, Hotel image with url, geo coordinates, rating, description and Places to visit nearby  with place name. Place Details, place image url, geo coordinates, ticket pricing. Time to travel each of location for 3 Days and 2  night with each day plan with best time to visit in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "trip_details": {\n    "location": "Mumbai, Maharashtra, India",\n    "duration": "3 Days and 2 Nights",\n    "travelers": "Couple",\n    "budget": "Luxury"\n  },\n  "flights": {\n    "details": {\n      "origin": "Your Origin City (e.g., Delhi)",\n      "destination": "Mumbai (BOM)",\n       "example_airline": "IndiGo, SpiceJet or Air India",\n      "example_price": "₹8,000 - ₹15,000 (per person for round trip)",\n      "booking_url": "https://www.makemytrip.com or https://www.goibibo.com"\n    },\n      "note": "Flight prices vary based on booking time, airline and time of travel, It\'s better to check on booking urls"\n  },\n  "hotel_options": [\n    {\n      "hotel_name": "The Taj Mahal Palace",\n      "hotel_address": "Apollo Bunder, Colaba, Mumbai, Maharashtra 400001, India",\n      "price_per_night": "₹30,000 - ₹60,000",\n      "hotel_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/c1/79/19/the-taj-mahal-palace.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 18.9219,\n        "longitude": 72.8347\n      },\n      "rating": 4.7,\n      "description": "Iconic luxury hotel with stunning views of the Arabian Sea, impeccable service, and world-class dining.",\n      "nearby_places": ["Gateway of India", "Colaba Causeway", "Chhatrapati Shivaji Maharaj Terminus"]\n    },\n    {\n      "hotel_name": "The Oberoi Mumbai",\n       "hotel_address": "Nariman Point, Mumbai, Maharashtra 400021, India",\n      "price_per_night": "₹25,000 - ₹50,000",\n      "hotel_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/a6/d7/f0/the-oberoi-mumbai.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 18.9252,\n        "longitude": 72.8263\n      },\n      "rating": 4.8,\n       "description": "Modern luxury hotel with elegant rooms, multiple dining options, and a rooftop pool overlooking the city.",\n      "nearby_places": ["Marine Drive", "Nariman Point", "Chowpatty Beach"]\n    },\n     {\n      "hotel_name": "Four Seasons Hotel Mumbai",\n       "hotel_address": "1/136, Dr. E. Moses Road, Worli, Mumbai, Maharashtra 400018, India",\n      "price_per_night": "₹20,000 - ₹40,000",\n      "hotel_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/74/a4/0d/four-seasons-hotel-mumbai.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 19.0058,\n        "longitude": 72.8164\n      },\n      "rating": 4.6,\n       "description": "Stylish hotel in the vibrant Worli area, offering spacious rooms, a spa, and stunning city views.",\n       "nearby_places":["Haji Ali Dargah", "Worli Sea Face", "Nehru Planetarium"]\n    }\n  ],\n  "places_to_visit": [\n    {\n      "place_name": "Gateway of India",\n      "place_details": "Iconic arch monument built during the British Raj, offering stunning views of the Arabian Sea.",\n      "place_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0d/28/aa/49/gateway-of-india.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 18.9220,\n        "longitude": 72.8347\n      },\n     "ticket_pricing": "Free"\n    },\n    {\n      "place_name": "Marine Drive",\n       "place_details": "A 3.6-kilometer-long arc-shaped boulevard along the coast, also known as the \'Queen\'s Necklace\' at night.",\n      "place_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/34/76/e8/marine-drive.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 18.9502,\n        "longitude": 72.8201\n      },\n     "ticket_pricing": "Free"\n    },\n    {\n       "place_name": "Chhatrapati Shivaji Maharaj Terminus (CST)",\n       "place_details": "A historical railway station and UNESCO World Heritage Site, known for its Victorian Gothic architecture.",\n      "place_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/72/26/b9/chhatrapati-shivaji-maharaj.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 18.9402,\n        "longitude": 72.8347\n      },\n       "ticket_pricing":"₹20(Entry fee)"\n   },\n    {\n      "place_name": "Haji Ali Dargah",\n      "place_details": "A mosque and dargah located on an islet off the coast of Worli, accessible by a narrow causeway.",\n      "place_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/7a/e9/a2/haji-ali-dargah.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 18.9794,\n        "longitude": 72.8124\n      },\n      "ticket_pricing": "Free"\n    },\n    {\n        "place_name": "Shree Siddhivinayak Temple",\n      "place_details": "A popular Hindu temple dedicated to Lord Ganesha, known for its golden dome and intricate carvings.",\n      "place_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/17/91/d3/0d/shree-siddhivinayak-temple.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n       "latitude": 19.0218,\n        "longitude": 72.8406\n      },\n      "ticket_pricing": "Free"\n    }\n\n  ],\n   "daily_itinerary": {\n    "day_1": {\n      "theme":"Historical and Coastal Charm",\n      "morning": {\n        "time": "9:00 AM",\n        "activity": "Arrive at Mumbai Airport, Check-in to Hotel( Taj Mahal Palace/Oberoi/Four Seasons)",\n        "duration": "2 hours",\n         "notes":"Take a cab or pre-booked car to hotel"\n      },\n      "afternoon": {\n        "time": "11:00 AM",\n        "activity": "Visit Gateway of India and take a boat ride",\n        "duration": "3 hours",\n        "notes":"Enjoy the views of Arabian Sea"\n      },\n      "late_afternoon":{\n        "time":"2:00 PM",\n        "activity":"Lunch at a fine dining restaurant at Colaba",\n        "duration":"2 hours",\n        "notes":"Explore the local cafes or upscale restaurants"\n       },\n      "evening": {\n        "time": "4:00 PM",\n        "activity": "Visit Chhatrapati Shivaji Maharaj Terminus (CST) & Stroll through Colaba Causeway for shopping",\n        "duration": "3 hours",\n         "notes": "Explore the historical architecture of CST and shop for souvenirs"\n      },\n     "night":{\n      "time":"7:00 PM",\n      "activity":"Dinner at a rooftop restaurant in South Mumbai",\n      "duration":"2 hours",\n      "notes":"Enjoy fine dining with great views of Mumbai"\n     },\n     "best_time_to_visit": "Morning or Late Afternoon"\n    },\n    "day_2": {\n      "theme":"Spiritual and Scenic Beauty",\n      "morning": {\n        "time": "9:00 AM",\n        "activity": "Visit Shree Siddhivinayak Temple",\n        "duration": "2 hours",\n         "notes":"Experience the peaceful environment and spiritual ambiance"\n      },\n      "afternoon": {\n        "time": "11:00 AM",\n        "activity": "Drive to Haji Ali Dargah",\n        "duration": "2 hours",\n        "notes": "walk the narrow causeway to the Dargah, experience the serenity of the area"\n      },\n      "late_afternoon":{\n        "time":"1:00 PM",\n        "activity":"Lunch at a restaurant at Worli",\n        "duration":"2 hours",\n       "notes":"Explore the local seafood options"\n       },\n      "evening": {\n        "time": "3:00 PM",\n        "activity": "Relax at Marine Drive and enjoy sunset",\n        "duration": "3 hours",\n         "notes":"Take a leisurely walk along the promenade and enjoy the sea breeze"\n       },\n     "night":{\n      "time":"6:00 PM",\n      "activity":"Dinner at a sea-facing restaurant at Marine Drive",\n      "duration":"2 hours",\n      "notes":"Enjoy the night lights of Mumbai"\n     },\n       "best_time_to_visit": "Early morning or Late afternoon"\n    },\n    "day_3": {\n      "theme":"Relax and Departure",\n       "morning": {\n        "time": "9:00 AM",\n        "activity": "Enjoy hotel amenities like Spa or Swimming pool",\n         "duration":"3 hours",\n         "notes":"Relax and rejuvenate before travel"\n      },\n      "afternoon": {\n        "time": "12:00 PM",\n        "activity": "Checkout from Hotel and Depart to Airport",\n         "duration":"3 hours",\n          "notes": "Ensure you have sufficient time for airport travel."\n      },\n      "best_time_to_visit":"Morning"\n    }\n  },\n    "time_to_travel_note": "Travel time between locations depends on traffic conditions and mode of transport. Allocate buffer time to each travel to avoid delays"\n}\n```',
        },
      ],
    },
  ],
});
